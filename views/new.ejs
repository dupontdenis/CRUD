<%- include('partials/header', { title: typeof pageTitle !=='undefined' ? pageTitle : (typeof submitLabel !=='undefined'
  ? submitLabel : 'Add New Post' ) }) %>

  <h1>
    <%= typeof submitLabel !=='undefined' ? submitLabel : 'Add New Post' %>
  </h1>

  <% /* formAction: default to create */ %>
    <% var formAction=typeof formAction !=='undefined' ? formAction : '/blog/posts/new' ; %>
      <% var submitLabel=typeof submitLabel !=='undefined' ? submitLabel : 'Save Post' ; %>
        <% var cancelHref=typeof cancelHref !=='undefined' ? cancelHref : '/blog/' ; %>

          <form id="postForm" action="<%= formAction %>" method="post">
            <% if (typeof errors !=='undefined' && errors && errors.length) { %>
              <div class="message" style="color: #d1242f;">
                <ul>
                  <% errors.forEach(function(err){ %>
                    <li>
                      <%= err %>
                    </li>
                    <% }) %>
                </ul>
              </div>
              <% } %>

                <label for="title">Title</label>
                <input id="title" name="title" required
                  value="<%= (typeof post !== 'undefined' && post.title) ? post.title : (typeof title !== 'undefined' ? title : '') %>">

                <label for="body">Body</label>
                <textarea id="body" name="body" rows="6"
                  required><%= (typeof post !== 'undefined' && post.body) ? post.body : (typeof body !== 'undefined' ? body : '') %></textarea>

                <div class="actions-row">
                  <button class="btn btn-primary" type="submit">
                    <%= submitLabel %>
                  </button>
                  <% if (cancelHref) { %>
                    <a class="btn secondary" href="<%= cancelHref %>">Cancel</a>
                    <% } %>
                </div>
          </form>

          <%- include('partials/footer') %>